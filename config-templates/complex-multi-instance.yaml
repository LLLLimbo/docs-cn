# # Global variables are applied to all deployments and used as the default value of
# # the deployments if a specific deployment value is missing.
global:
  user: "tidb"
  ssh_port: 22
  deploy_dir: "/data/tidb/tidb-deploy"
  data_dir: "/data/tidb/tidb-data"

monitored:
  node_exporter_port: 9100
  blackbox_exporter_port: 9115
  deploy_dir: "/data/tidb/tidb-deploy/monitored-9100"
  data_dir: "/data/tidb/tidb-data-monitored-9100"
  log_dir: "/data/tidb/tidb-deploy/monitored-9100/log"

server_configs:
  tidb:
    log.slow-threshold: 300
  tikv:
    readpool.unified.max-thread-count: 8
    readpool.storage.use-unified-pool: false
    readpool.coprocessor.use-unified-pool: true
    storage.block-cache.capacity: 5g
    raftstore.capacity: 200g
  pd:
    replication.location-labels: ["host"]
    schedule.leader-schedule-limit: 4
    schedule.region-schedule-limit: 2048
    schedule.replica-schedule-limit: 64

pd_servers:
  - host: 192.168.2.102

tidb_servers:
  - host: 192.168.2.102
    port: 24000
    status_port: 10080
    deploy_dir: "/data/tidb/tidb-deploy/tidb-4000"
    log_dir: "/data/tidb/tidb-deploy/tidb-4000/log"
    numa_node: "0"
  - host: 192.168.2.102
    port: 24001
    status_port: 10081
    deploy_dir: "/data/tidb/tidb-deploy/tidb-4001"
    log_dir: "/data/tidb/tidb-deploy/tidb-4001/log"
    numa_node: "1"

tikv_servers:
  - host: 192.168.2.102
    port: 20160
    status_port: 20180
    deploy_dir: "/data/tidb/tidb-deploy/tikv-20160"
    data_dir: "/data/tidb/tidb-data/tikv-20160"
    log_dir: "/data/tidb/tidb-deploy/tikv-20160/log"
    numa_node: "0"
    config:
      server.labels: { host: "tikv1" }
  - host: 192.168.2.102
    port: 20161
    status_port: 20181
    deploy_dir: "/data/tidb/tidb-deploy/tikv-20161"
    data_dir: "/data/tidb/tidb-data/tikv-20161"
    log_dir: "/data/tidb/tidb-deploy/tikv-20161/log"
    numa_node: "1"
    config:
      server.labels: { host: "tikv2" }
  - host: 192.168.2.102
    port: 20162
    status_port: 20182
    deploy_dir: "/data/tidb/tidb-deploy/tikv-20162"
    data_dir: "/data/tidb/tidb-data/tikv-20162"
    log_dir: "/data/tidb/tidb-deploy/tikv-20162/log"
    numa_node: "0"
    config:
      server.labels: { host: "tikv3" }

monitoring_servers:
  - host: 192.168.2.102
    ssh_port: 22
    port: 19090
    deploy_dir: "/data/tidb/tidb-deploy/prometheus-8249"
    data_dir: "/data/tidb/tidb-data/prometheus-8249"
    log_dir: "/data/tidb/tidb-deploy/prometheus-8249/log"

grafana_servers:
  - host: 192.168.2.102
    port: 23000
    deploy_dir: /data/tidb/tidb-deploy/grafana-3000

alertmanager_servers:
  - host: 192.168.2.102
    ssh_port: 22
    web_port: 19093
    cluster_port: 9094
    deploy_dir: "/data/tidb/tidb-deploy/alertmanager-19093"
    data_dir: "/data/tidb/tidb-data/alertmanager-19093"
    log_dir: "/data/tidb/tidb-deploy/alertmanager-19093/log"
